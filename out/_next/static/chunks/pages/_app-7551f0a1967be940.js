(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{3454:function(e,t,n){"use strict";var i,r;e.exports=(null==(i=n.g.process)?void 0:i.env)&&"object"===typeof(null==(r=n.g.process)?void 0:r.env)?n.g.process:n(7663)},6840:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(8512)}])},8512:function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}n.r(t),n.d(t,{default:function(){return Qh}});var s=n(5893);n(906);const o=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296===(64512&r)&&i+1<e.length&&56320===(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const t=e[r],s=r+1<e.length,o=s?e[r+1]:0,a=r+2<e.length,c=a?e[r+2]:0,h=t>>2,l=(3&t)<<4|o>>4;let u=(15&o)<<2|c>>6,d=63&c;a||(d=64,s||(u=64)),i.push(n[h],n[l],n[u],n[d])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(o(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(s>>10)),t[i++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const t=n[e.charAt(r++)],s=r<e.length?n[e.charAt(r)]:0;++r;const o=r<e.length?n[e.charAt(r)]:64;++r;const a=r<e.length?n[e.charAt(r)]:64;if(++r,null==t||null==s||null==o||null==a)throw Error();const c=t<<2|s>>4;if(i.push(c),64!==o){const e=s<<4&240|o>>2;if(i.push(e),64!==a){const e=o<<6&192|a;i.push(e)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){return function(e){const t=o(e);return a.encodeByteArray(t,!0)}(e).replace(/\./g,"")},h=function(e){try{return a.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};class l{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function u(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function d(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function f(){return"object"===typeof indexedDB}function p(){return new Promise(((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class g extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,g.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,m.prototype.create)}}class m{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,r=this.errors[e],s=r?function(e,t){return e.replace(v,((e,n)=>{const i=t[n];return null!=i?String(i):`<${n}?>`}))}(r,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new g(i,o,n)}}const v=/\{\$([^}]+)}/g;function y(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const n=e[r],s=t[r];if(w(n)&&w(s)){if(!y(n,s))return!1}else if(n!==s)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function w(e){return null!==e&&"object"===typeof e}function b(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function I(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,i]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(i)}})),t}function _(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class T{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let i;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");i=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===i.next&&(i.next=E),void 0===i.error&&(i.error=E),void 0===i.complete&&(i.complete=E);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(e){}})),this.observers.push(i),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function E(){}function k(e,t=1e3,n=2){const i=t*Math.pow(n,e),r=Math.round(.5*i*(Math.random()-.5)*2);return Math.min(144e5,i+r)}function S(e){return e&&e._delegate?e._delegate:e}class C{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const A="[DEFAULT]";class R{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new l;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),i=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:A})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:i});n.resolve(e)}catch(t){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[r,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(r)&&s.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(As){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(i=e,i===A?void 0:i),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(As){}var i;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:A:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class O{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new R(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const N=[];var P;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(P||(P={}));const D={debug:P.DEBUG,verbose:P.VERBOSE,info:P.INFO,warn:P.WARN,error:P.ERROR,silent:P.SILENT},L=P.INFO,M={[P.DEBUG]:"log",[P.VERBOSE]:"log",[P.INFO]:"info",[P.WARN]:"warn",[P.ERROR]:"error"},x=(e,t,...n)=>{if(t<e.logLevel)return;const i=(new Date).toISOString(),r=M[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${i}]  ${e.name}:`,...n)};class U{constructor(e){this.name=e,this._logLevel=L,this._logHandler=x,this._userLogHandler=null,N.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in P))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?D[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,P.DEBUG,...e),this._logHandler(this,P.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,P.VERBOSE,...e),this._logHandler(this,P.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,P.INFO,...e),this._logHandler(this,P.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,P.WARN,...e),this._logHandler(this,P.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,P.ERROR,...e),this._logHandler(this,P.ERROR,...e)}}let j,F;const z=new WeakMap,V=new WeakMap,B=new WeakMap,H=new WeakMap,$=new WeakMap;let q={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return V.get(e);if("objectStoreNames"===t)return e.objectStoreNames||B.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return G(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function K(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(F||(F=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(X(this),t),G(z.get(this))}:function(...t){return G(e.apply(X(this),t))}:function(t,...n){const i=e.call(X(this),t,...n);return B.set(i,t.sort?t.sort():[t]),G(i)}}function W(e){return"function"===typeof e?K(e):(e instanceof IDBTransaction&&function(e){if(V.has(e))return;const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",s),e.removeEventListener("abort",s)},r=()=>{t(),i()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",r),e.addEventListener("error",s),e.addEventListener("abort",s)}));V.set(e,t)}(e),t=e,(j||(j=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,q):e);var t}function G(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("success",r),e.removeEventListener("error",s)},r=()=>{t(G(e.result)),i()},s=()=>{n(e.error),i()};e.addEventListener("success",r),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&z.set(t,e)})).catch((()=>{})),$.set(t,e),t}(e);if(H.has(e))return H.get(e);const t=W(e);return t!==e&&(H.set(e,t),$.set(t,e)),t}const X=e=>$.get(e);function J(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(e,t),a=G(o);return i&&o.addEventListener("upgradeneeded",(e=>{i(G(o.result),e.oldVersion,e.newVersion,G(o.transaction))})),n&&o.addEventListener("blocked",(()=>n())),a.then((e=>{s&&e.addEventListener("close",(()=>s())),r&&e.addEventListener("versionchange",(()=>r()))})).catch((()=>{})),a}const Y=["get","getKey","getAll","getAllKeys","count"],Q=["put","add","delete","clear"],Z=new Map;function ee(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Z.get(t))return Z.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=Q.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Y.includes(n))return;const s=async function(e,...t){const s=this.transaction(e,r?"readwrite":"readonly");let o=s.store;return i&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),r&&s.done]))[0]};return Z.set(t,s),s}q=(e=>({...e,get:(t,n,i)=>ee(t,n)||e.get(t,n,i),has:(t,n)=>!!ee(t,n)||e.has(t,n)}))(q);class te{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const ne="@firebase/app",ie="0.7.27",re=new U("@firebase/app"),se="[DEFAULT]",oe={[ne]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ae=new Map,ce=new Map;function he(e,t){try{e.container.addComponent(t)}catch(n){re.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function le(e){const t=e.name;if(ce.has(t))return re.debug(`There were multiple attempts to register component ${t}.`),!1;ce.set(t,e);for(const n of ae.values())he(n,e);return!0}function ue(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const de=new m("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class fe{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new C("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw de.create("app-deleted",{appName:this._name})}}const pe="9.8.4";function ge(e="[DEFAULT]"){const t=ae.get(e);if(!t)throw de.create("no-app",{appName:e});return t}function me(e,t,n){var i;let r=null!==(i=oe[e])&&void 0!==i?i:e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${r}" with version "${t}":`];return s&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void re.warn(e.join(" "))}le(new C(`${r}-version`,(()=>({library:r,version:t})),"VERSION"))}const ve="firebase-heartbeat-store";let ye=null;function we(){return ye||(ye=J("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(ve)}}).catch((e=>{throw de.create("storage-open",{originalErrorMessage:e.message})}))),ye}async function be(e,t){var n;try{const n=(await we()).transaction(ve,"readwrite"),i=n.objectStore(ve);return await i.put(t,Ie(e)),n.done}catch(i){throw de.create("storage-set",{originalErrorMessage:null===(n=i)||void 0===n?void 0:n.message})}}function Ie(e){return`${e.name}!${e.options.appId}`}class _e{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ee(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Te();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Te(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let i=e.slice();for(const r of e){const e=n.find((e=>e.agent===r.agent));if(e){if(e.dates.push(r.date),ke(n)>t){e.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),ke(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),i=c(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Te(){return(new Date).toISOString().substring(0,10)}class Ee{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!f()&&p().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){var t;try{return(await we()).transaction(ve).objectStore(ve).get(Ie(e))}catch(n){throw de.create("storage-get",{originalErrorMessage:null===(t=n)||void 0===t?void 0:t.message})}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return be(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return be(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ke(e){return c(JSON.stringify({version:2,heartbeats:e})).length}var Se;Se="",le(new C("platform-logger",(e=>new te(e)),"PRIVATE")),le(new C("heartbeat",(e=>new _e(e)),"PRIVATE")),me(ne,ie,Se),me(ne,ie,"esm2017"),me("fire-js","");me("firebase","9.8.4","app");var Ce,Ae="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Re={},Oe=Oe||{},Ne=Ae||self;function Pe(){}function De(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Le(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Me="closure_uid_"+(1e9*Math.random()>>>0),xe=0;function Ue(e,t,n){return e.call.apply(e.bind,arguments)}function je(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Fe(e,t,n){return(Fe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ue:je).apply(null,arguments)}function ze(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ve(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return t.prototype[n].apply(e,r)}}function Be(){this.s=this.s,this.o=this.o}var He={};Be.prototype.s=!1,Be.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Me)&&e[Me]||(e[Me]=++xe)}(this);delete He[e]}},Be.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $e=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},qe=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const i=e.length,r="string"===typeof e?e.split(""):e;for(let s=0;s<i;s++)s in r&&t.call(n,r[s],s,e)};function Ke(e){return Array.prototype.concat.apply([],arguments)}function We(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function Ge(e){return/^[\s\xa0]*$/.test(e)}var Xe,Je=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ye(e,t){return-1!=e.indexOf(t)}function Qe(e,t){return e<t?-1:e>t?1:0}e:{var Ze=Ne.navigator;if(Ze){var et=Ze.userAgent;if(et){Xe=et;break e}}Xe=""}function tt(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function nt(e){const t={};for(const n in e)t[n]=e[n];return t}var it="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rt(e,t){let n,i;for(let r=1;r<arguments.length;r++){for(n in i=arguments[r],i)e[n]=i[n];for(let t=0;t<it.length;t++)n=it[t],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function st(e){return st[" "](e),e}st[" "]=Pe;var ot,at=Ye(Xe,"Opera"),ct=Ye(Xe,"Trident")||Ye(Xe,"MSIE"),ht=Ye(Xe,"Edge"),lt=ht||ct,ut=Ye(Xe,"Gecko")&&!(Ye(Xe.toLowerCase(),"webkit")&&!Ye(Xe,"Edge"))&&!(Ye(Xe,"Trident")||Ye(Xe,"MSIE"))&&!Ye(Xe,"Edge"),dt=Ye(Xe.toLowerCase(),"webkit")&&!Ye(Xe,"Edge");function ft(){var e=Ne.document;return e?e.documentMode:void 0}e:{var pt="",gt=function(){var e=Xe;return ut?/rv:([^\);]+)(\)|;)/.exec(e):ht?/Edge\/([\d\.]+)/.exec(e):ct?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):dt?/WebKit\/(\S+)/.exec(e):at?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(gt&&(pt=gt?gt[1]:""),ct){var mt=ft();if(null!=mt&&mt>parseFloat(pt)){ot=String(mt);break e}}ot=pt}var vt,yt={};function wt(){return function(e){var t=yt;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){let e=0;const t=Je(String(ot)).split("."),n=Je("9").split("."),i=Math.max(t.length,n.length);for(let o=0;0==e&&o<i;o++){var r=t[o]||"",s=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;e=Qe(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||Qe(0==r[2].length,0==s[2].length)||Qe(r[2],s[2]),r=r[3],s=s[3]}while(0==e)}return 0<=e}))}if(Ne.document&&ct){var bt=ft();vt=bt||(parseInt(ot,10)||void 0)}else vt=void 0;var It=vt,_t=function(){if(!Ne.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ne.addEventListener("test",Pe,t),Ne.removeEventListener("test",Pe,t)}catch(n){}return e}();function Tt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Et(e,t){if(Tt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ut){e:{try{st(t.nodeName);var r=!0;break e}catch(s){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:kt[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Et.Z.h.call(this)}}Tt.prototype.h=function(){this.defaultPrevented=!0},Ve(Et,Tt);var kt={2:"touch",3:"pen",4:"mouse"};Et.prototype.h=function(){Et.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var St="closure_listenable_"+(1e6*Math.random()|0),Ct=0;function At(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ia=r,this.key=++Ct,this.ca=this.fa=!1}function Rt(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ot(e){this.src=e,this.g={},this.h=0}function Nt(e,t){var n=t.type;if(n in e.g){var i,r=e.g[n],s=$e(r,t);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Rt(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Pt(e,t,n,i){for(var r=0;r<e.length;++r){var s=e[r];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==i)return r}return-1}Ot.prototype.add=function(e,t,n,i,r){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Pt(e,t,i,r);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new At(t,this.src,s,!!i,r)).fa=n,e.push(t)),t};var Dt="closure_lm_"+(1e6*Math.random()|0),Lt={};function Mt(e,t,n,i,r){if(i&&i.once)return Ut(e,t,n,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Mt(e,t[s],n,i,r);return null}return n=$t(n),e&&e[St]?e.N(t,n,Le(i)?!!i.capture:!!i,r):xt(e,t,n,!1,i,r)}function xt(e,t,n,i,r,s){if(!t)throw Error("Invalid event type");var o=Le(r)?!!r.capture:!!r,a=Bt(e);if(a||(e[Dt]=a=new Ot(e)),(n=a.add(t,n,i,o,s)).proxy)return n;if(i=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Vt;return e}(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)_t||(r=o),void 0===r&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(zt(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(i)}return n}function Ut(e,t,n,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Ut(e,t[s],n,i,r);return null}return n=$t(n),e&&e[St]?e.O(t,n,Le(i)?!!i.capture:!!i,r):xt(e,t,n,!0,i,r)}function jt(e,t,n,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)jt(e,t[s],n,i,r);else i=Le(i)?!!i.capture:!!i,n=$t(n),e&&e[St]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Pt(s=e.g[t],n,i,r))&&(Rt(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Bt(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Pt(t,n,i,r)),(n=-1<e?t[e]:null)&&Ft(n))}function Ft(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[St])Nt(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(zt(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=Bt(t))?(Nt(n,e),0==n.h&&(n.src=null,t[Dt]=null)):Rt(e)}}}function zt(e){return e in Lt?Lt[e]:Lt[e]="on"+e}function Vt(e,t){if(e.ca)e=!0;else{t=new Et(t,this);var n=e.listener,i=e.ia||e.src;e.fa&&Ft(e),e=n.call(i,t)}return e}function Bt(e){return(e=e[Dt])instanceof Ot?e:null}var Ht="__closure_events_fn_"+(1e9*Math.random()>>>0);function $t(e){return"function"===typeof e?e:(e[Ht]||(e[Ht]=function(t){return e.handleEvent(t)}),e[Ht])}function qt(){Be.call(this),this.i=new Ot(this),this.P=this,this.I=null}function Kt(e,t){var n,i=e.I;if(i)for(n=[];i;i=i.I)n.push(i);if(e=e.P,i=t.type||t,"string"===typeof t)t=new Tt(t,e);else if(t instanceof Tt)t.target=t.target||e;else{var r=t;rt(t=new Tt(i,e),r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];r=Wt(o,i,!0,t)&&r}if(r=Wt(o=t.g=e,i,!0,t)&&r,r=Wt(o,i,!1,t)&&r,n)for(s=0;s<n.length;s++)r=Wt(o=t.g=n[s],i,!1,t)&&r}function Wt(e,t,n,i){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,c=o.ia||o.src;o.fa&&Nt(e.i,o),r=!1!==a.call(c,i)&&r}}return r&&!i.defaultPrevented}Ve(qt,Be),qt.prototype[St]=!0,qt.prototype.removeEventListener=function(e,t,n,i){jt(this,e,t,n,i)},qt.prototype.M=function(){if(qt.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)Rt(n[i]);delete t.g[e],t.h--}}this.I=null},qt.prototype.N=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)},qt.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};var Gt=Ne.JSON.stringify;function Xt(){var e=nn;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Jt,Yt=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Qt),(e=>e.reset()));class Qt{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Zt(e){Ne.setTimeout((()=>{throw e}),0)}function en(e,t){Jt||function(){var e=Ne.Promise.resolve(void 0);Jt=function(){e.then(rn)}}(),tn||(Jt(),tn=!0),nn.add(e,t)}var tn=!1,nn=new class{constructor(){this.h=this.g=null}add(e,t){const n=Yt.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function rn(){for(var e;e=Xt();){try{e.h.call(e.g)}catch(n){Zt(n)}var t=Yt;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}tn=!1}function sn(e,t){qt.call(this),this.h=e||1,this.g=t||Ne,this.j=Fe(this.kb,this),this.l=Date.now()}function on(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function an(e,t,n){if("function"===typeof e)n&&(e=Fe(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Fe(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ne.setTimeout(e,t||0)}function cn(e){e.g=an((()=>{e.g=null,e.i&&(e.i=!1,cn(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Ve(sn,qt),(Ce=sn.prototype).da=!1,Ce.S=null,Ce.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Kt(this,"tick"),this.da&&(on(this),this.start()))}},Ce.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ce.M=function(){sn.Z.M.call(this),on(this),delete this.g};class hn extends Be{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:cn(this)}M(){super.M(),this.g&&(Ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ln(e){Be.call(this),this.h=e,this.g={}}Ve(ln,Be);var un=[];function dn(e,t,n,i){Array.isArray(n)||(n&&(un[0]=n.toString()),n=un);for(var r=0;r<n.length;r++){var s=Mt(t,n[r],i||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function fn(e){tt(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ft(e)}),e),e.g={}}function pn(){this.g=!0}function gn(e,t,n,i){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return Gt(n)}catch(a){return t}}(e,n)+(i?" "+i:"")}))}ln.prototype.M=function(){ln.Z.M.call(this),fn(this)},ln.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},pn.prototype.Aa=function(){this.g=!1},pn.prototype.info=function(){};var mn={},vn=null;function yn(){return vn=vn||new qt}function wn(e){Tt.call(this,mn.Ma,e)}function bn(e){const t=yn();Kt(t,new wn(t,e))}function In(e,t){Tt.call(this,mn.STAT_EVENT,e),this.stat=t}function _n(e){const t=yn();Kt(t,new In(t,e))}function Tn(e,t){Tt.call(this,mn.Na,e),this.size=t}function En(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ne.setTimeout((function(){e()}),t)}mn.Ma="serverreachability",Ve(wn,Tt),mn.STAT_EVENT="statevent",Ve(In,Tt),mn.Na="timingevent",Ve(Tn,Tt);var kn={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Sn={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Cn(){}function An(e){return e.h||(e.h=e.i())}function Rn(){}Cn.prototype.h=null;var On,Nn={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Pn(){Tt.call(this,"d")}function Dn(){Tt.call(this,"c")}function Ln(){}function Mn(e,t,n,i){this.l=e,this.j=t,this.m=n,this.X=i||1,this.V=new ln(this),this.P=Un,e=lt?125:void 0,this.W=new sn(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new xn}function xn(){this.i=null,this.g="",this.h=!1}Ve(Pn,Tt),Ve(Dn,Tt),Ve(Ln,Cn),Ln.prototype.g=function(){return new XMLHttpRequest},Ln.prototype.i=function(){return{}},On=new Ln;var Un=45e3,jn={},Fn={};function zn(e,t,n){e.K=1,e.v=hi(ii(t)),e.s=n,e.U=!0,Vn(e,null)}function Vn(e,t){e.F=Date.now(),qn(e),e.A=ii(e.v);var n=e.A,i=e.X;Array.isArray(i)||(i=[String(i)]),_i(n.h,"t",i),e.C=0,n=e.l.H,e.h=new xn,e.g=Tr(e.l,n?t:null,!e.s),0<e.O&&(e.L=new hn(Fe(e.Ia,e,e.g),e.O)),dn(e.V,e.g,"readystatechange",e.gb),t=e.H?nt(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),bn(1),function(e,t,n,i,r,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var h=a[c].split("=");if(1<h.length){var l=h[0];h=h[1];var u=l.split("_");o=2<=u.length&&"type"==u[1]?o+(l+"=")+h+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Bn(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Hn(e,t,n){let i,r=!0;for(;!e.I&&e.C<n.length;){if(i=$n(e,n),i==Fn){4==t&&(e.o=4,_n(14),r=!1),gn(e.j,e.m,null,"[Incomplete Response]");break}if(i==jn){e.o=4,_n(15),gn(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}gn(e.j,e.m,i,null),Jn(e,i)}Bn(e)&&i!=Fn&&i!=jn&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,_n(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),gr(t),t.L=!0,_n(11))):(gn(e.j,e.m,n,"[Invalid Chunked Response]"),Xn(e),Gn(e))}function $n(e,t){var n=e.C,i=t.indexOf("\n",n);return-1==i?Fn:(n=Number(t.substring(n,i)),isNaN(n)?jn:(i+=1)+n>t.length?Fn:(t=t.substr(i,n),e.C=i+n,t))}function qn(e){e.Y=Date.now()+e.P,Kn(e,e.P)}function Kn(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=En(Fe(e.eb,e),t)}function Wn(e){e.B&&(Ne.clearTimeout(e.B),e.B=null)}function Gn(e){0==e.l.G||e.I||yr(e.l,e)}function Xn(e){Wn(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,on(e.W),fn(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Jn(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Ri(n.i,e)))if(n.I=e.N,!e.J&&Ri(n.i,e)&&3==n.G){try{var i=n.Ca.g.parse(t)}catch(h){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;vr(n),or(n)}pr(n),_n(18)}}else n.ta=r[1],0<n.ta-n.U&&37500>r[2]&&n.N&&0==n.A&&!n.v&&(n.v=En(Fe(n.ab,n),6e3));if(1>=Ai(n.i)&&n.ka){try{n.ka()}catch(h){}n.ka=void 0}}else br(n,11)}else if((e.J||n.g==e)&&vr(n),!Ge(t))for(r=n.Ca.g.parse(t),t=0;t<r.length;t++){let h=r[t];if(n.U=h[0],h=h[1],2==n.G)if("c"==h[0]){n.J=h[1],n.la=h[2];const t=h[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const r=h[4];null!=r&&(n.za=r,n.h.info("SVER="+n.za));const l=h[5];null!=l&&"number"===typeof l&&0<l&&(i=1.5*l,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;const u=e.g;if(u){const e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=i.i;!s.g&&(Ye(e,"spdy")||Ye(e,"quic")||Ye(e,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(Oi(s,s.h),s.h=null))}if(i.D){const e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(i.sa=e,ci(i.F,i.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=e;if((i=n).oa=_r(i,i.H?i.la:null,i.W),o.J){Ni(i.i,o);var a=o,c=i.K;c&&a.setTimeout(c),a.B&&(Wn(a),qn(a)),i.g=o}else fr(i);0<n.l.length&&hr(n)}else"stop"!=h[0]&&"close"!=h[0]||br(n,7);else 3==n.G&&("stop"==h[0]||"close"==h[0]?"stop"==h[0]?br(n,7):sr(n):"noop"!=h[0]&&n.j&&n.j.wa(h),n.A=0)}bn(4)}catch(h){}}function Yn(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(De(e)||"string"===typeof e)qe(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(De(e)||"string"===typeof e){n=[];for(var i=e.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,e)n[i++]=r;i=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(De(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}for(i in t=[],n=0,e)t[n++]=e[i];return t}(e),r=i.length;for(var s=0;s<r;s++)t.call(void 0,i[s],n&&n[s],e)}}function Qn(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof Qn)for(n=e.T(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}function Zn(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var i=e.g[t];ei(e.h,i)&&(e.g[n++]=i),t++}e.g.length=n}if(e.i!=e.g.length){var r={};for(n=t=0;t<e.g.length;)ei(r,i=e.g[t])||(e.g[n++]=i,r[i]=1),t++;e.g.length=n}}function ei(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Ce=Mn.prototype).setTimeout=function(e){this.P=e},Ce.gb=function(e){e=e.target;const t=this.L;t&&3==er(e)?t.l():this.Ia(e)},Ce.Ia=function(e){try{if(e==this.g)e:{const l=er(this.g);var t=this.g.Da();const u=this.g.ba();if(!(3>l)&&(3!=l||lt||this.g&&(this.h.h||this.g.ga()||tr(this.g)))){this.I||4!=l||7==t||bn(8==t||0>=u?3:2),Wn(this);var n=this.g.ba();this.N=n;t:if(Bn(this)){var i=tr(this.g);e="";var r=i.length,s=4==er(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Xn(this),Gn(this);var o="";break t}this.h.i=new Ne.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(e,t,n,i,r,s,o){e.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ge(a)){var h=a;break t}}h=null}if(!(n=h)){this.i=!1,this.o=3,_n(12),Xn(this),Gn(this);break e}gn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Jn(this,n)}this.U?(Hn(this,l,o),lt&&this.i&&3==l&&(dn(this.V,this.W,"tick",this.fb),this.W.start())):(gn(this.j,this.m,o,null),Jn(this,o)),4==l&&Xn(this),this.i&&!this.I&&(4==l?yr(this.l,this):(this.i=!1,qn(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,_n(12)):(this.o=0,_n(13)),Xn(this),Gn(this)}}}catch(l){}},Ce.fb=function(){if(this.g){var e=er(this.g),t=this.g.ga();this.C<t.length&&(Wn(this),Hn(this,e,t),this.i&&4!=e&&qn(this))}},Ce.cancel=function(){this.I=!0,Xn(this)},Ce.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(bn(3),_n(17)),Xn(this),this.o=2,Gn(this)):Kn(this,this.Y-e)},(Ce=Qn.prototype).R=function(){Zn(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Ce.T=function(){return Zn(this),this.g.concat()},Ce.get=function(e,t){return ei(this.h,e)?this.h[e]:t},Ce.set=function(e,t){ei(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Ce.forEach=function(e,t){for(var n=this.T(),i=0;i<n.length;i++){var r=n[i],s=this.get(r);e.call(t,s,r,this)}};var ti=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ni(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof ni){this.g=void 0!==t?t:e.g,ri(this,e.j),this.s=e.s,si(this,e.i),oi(this,e.m),this.l=e.l,t=e.h;var n=new yi;n.i=t.i,t.g&&(n.g=new Qn(t.g),n.h=t.h),ai(this,n),this.o=e.o}else e&&(n=String(e).match(ti))?(this.g=!!t,ri(this,n[1]||"",!0),this.s=li(n[2]||""),si(this,n[3]||"",!0),oi(this,n[4]),this.l=li(n[5]||"",!0),ai(this,n[6]||"",!0),this.o=li(n[7]||"")):(this.g=!!t,this.h=new yi(null,this.g))}function ii(e){return new ni(e)}function ri(e,t,n){e.j=n?li(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function si(e,t,n){e.i=n?li(t,!0):t}function oi(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ai(e,t,n){t instanceof yi?(e.h=t,function(e,t){t&&!e.j&&(wi(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(bi(this,t),_i(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=ui(t,mi)),e.h=new yi(t,e.g))}function ci(e,t,n){e.h.set(t,n)}function hi(e){return ci(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function li(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ui(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,di),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function di(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ni.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ui(t,fi,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ui(t,fi,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(ui(n,"/"==n.charAt(0)?gi:pi,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ui(n,vi)),e.join("")};var fi=/[#\/\?@]/g,pi=/[#\?:]/g,gi=/[#\?]/g,mi=/[#\?@]/g,vi=/#/g;function yi(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wi(e){e.g||(e.g=new Qn,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var s=e[n].substring(0,i);r=e[n].substring(i+1)}else s=e[n];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function bi(e,t){wi(e),t=Ti(e,t),ei(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,ei((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Zn(e)))}function Ii(e,t){return wi(e),t=Ti(e,t),ei(e.g.h,t)}function _i(e,t,n){bi(e,t),0<n.length&&(e.i=null,e.g.set(Ti(e,t),We(n)),e.h+=n.length)}function Ti(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ce=yi.prototype).add=function(e,t){wi(this),this.i=null,e=Ti(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ce.forEach=function(e,t){wi(this),this.g.forEach((function(n,i){qe(n,(function(n){e.call(t,n,i,this)}),this)}),this)},Ce.T=function(){wi(this);for(var e=this.g.R(),t=this.g.T(),n=[],i=0;i<t.length;i++)for(var r=e[i],s=0;s<r.length;s++)n.push(t[i]);return n},Ce.R=function(e){wi(this);var t=[];if("string"===typeof e)Ii(this,e)&&(t=Ke(t,this.g.get(Ti(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Ke(t,e[n])}return t},Ce.set=function(e,t){return wi(this),this.i=null,Ii(this,e=Ti(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ce.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var i=t[n],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var o=r;""!==i[s]&&(o+="="+encodeURIComponent(String(i[s]))),e.push(o)}}return this.i=e.join("&")};function Ei(e){this.l=e||Si,Ne.PerformanceNavigationTiming?e=0<(e=Ne.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ne.g&&Ne.g.Ea&&Ne.g.Ea()&&Ne.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ki,Si=10;function Ci(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ai(e){return e.h?1:e.g?e.g.size:0}function Ri(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Oi(e,t){e.g?e.g.add(t):e.h=t}function Ni(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Pi(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return We(e.i)}function Di(){}function Li(){this.g=new Di}function Mi(e,t,n){const i=n||"";try{Yn(e,(function(e,n){let r=e;Le(e)&&(r=Gt(e)),t.push(i+n+"="+encodeURIComponent(r))}))}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function xi(e,t,n,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(s){}}function Ui(e){this.l=e.$b||null,this.j=e.ib||!1}function ji(e,t){qt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Fi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ei.prototype.cancel=function(){if(this.i=Pi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},Di.prototype.stringify=function(e){return Ne.JSON.stringify(e,void 0)},Di.prototype.parse=function(e){return Ne.JSON.parse(e,void 0)},Ve(Ui,Cn),Ui.prototype.g=function(){return new ji(this.l,this.j)},Ui.prototype.i=(ki={},function(){return ki}),Ve(ji,qt);var Fi=0;function zi(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Vi(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Bi(e)}function Bi(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ce=ji.prototype).open=function(e,t){if(this.readyState!=Fi)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Bi(this)},Ce.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ne).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vi(this)),this.readyState=Fi},Ce.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Bi(this)),this.g&&(this.readyState=3,Bi(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Ne.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zi(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Ce.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Vi(this):Bi(this),3==this.readyState&&zi(this)}},Ce.Ua=function(e){this.g&&(this.response=this.responseText=e,Vi(this))},Ce.Ta=function(e){this.g&&(this.response=e,Vi(this))},Ce.ha=function(){this.g&&Vi(this)},Ce.setRequestHeader=function(e,t){this.v.append(e,t)},Ce.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ce.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ji.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Hi=Ne.JSON.parse;function $i(e){qt.call(this),this.headers=new Qn,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qi,this.K=this.L=!1}Ve($i,qt);var qi="",Ki=/^https?$/i,Wi=["POST","PUT"];function Gi(e){return"content-type"==e.toLowerCase()}function Xi(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ji(e),Qi(e)}function Ji(e){e.D||(e.D=!0,Kt(e,"complete"),Kt(e,"error"))}function Yi(e){if(e.h&&"undefined"!=typeof Oe&&(!e.C[1]||4!=er(e)||2!=e.ba()))if(e.v&&4==er(e))an(e.Fa,0,e);else if(Kt(e,"readystatechange"),4==er(e)){e.h=!1;try{const c=e.ba();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===c){var r=String(e.H).match(ti)[1]||null;if(!r&&Ne.self&&Ne.self.location){var s=Ne.self.location.protocol;r=s.substr(0,s.length-1)}i=!Ki.test(r?r.toLowerCase():"")}n=i}if(n)Kt(e,"complete"),Kt(e,"success");else{e.m=6;try{var o=2<er(e)?e.g.statusText:""}catch(a){o=""}e.j=o+" ["+e.ba()+"]",Ji(e)}}finally{Qi(e)}}}function Qi(e,t){if(e.g){Zi(e);const i=e.g,r=e.C[0]?Pe:null;e.g=null,e.C=null,t||Kt(e,"ready");try{i.onreadystatechange=r}catch(n){}}}function Zi(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ne.clearTimeout(e.A),e.A=null)}function er(e){return e.g?e.g.readyState:0}function tr(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case qi:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function nr(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=function(e){let t="";return tt(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ci(e,t,n))}function ir(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function rr(e){this.za=0,this.l=[],this.h=new pn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ir("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ir("baseRetryDelayMs",5e3,e),this.$a=ir("retryDelaySeedMs",1e4,e),this.Ya=ir("forwardChannelMaxRetries",2,e),this.ra=ir("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Ei(e&&e.concurrentRequestLimit),this.Ca=new Li,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function sr(e){if(ar(e),3==e.G){var t=e.V++,n=ii(e.F);ci(n,"SID",e.J),ci(n,"RID",t),ci(n,"TYPE","terminate"),ur(e,n),(t=new Mn(e,e.h,t,void 0)).K=2,t.v=hi(ii(n)),n=!1,Ne.navigator&&Ne.navigator.sendBeacon&&(n=Ne.navigator.sendBeacon(t.v.toString(),"")),!n&&Ne.Image&&((new Image).src=t.v,n=!0),n||(t.g=Tr(t.l,null),t.g.ea(t.v)),t.F=Date.now(),qn(t)}Ir(e)}function or(e){e.g&&(gr(e),e.g.cancel(),e.g=null)}function ar(e){or(e),e.u&&(Ne.clearTimeout(e.u),e.u=null),vr(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Ne.clearTimeout(e.m),e.m=null)}function cr(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&hr(e)}function hr(e){Ci(e.i)||e.m||(e.m=!0,en(e.Ha,e),e.C=0)}function lr(e,t){var n;n=t?t.m:e.V++;const i=ii(e.F);ci(i,"SID",e.J),ci(i,"RID",n),ci(i,"AID",e.U),ur(e,i),e.o&&e.s&&nr(i,e.o,e.s),n=new Mn(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=dr(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Oi(e.i,n),zn(n,i,t)}function ur(e,t){e.j&&Yn({},(function(e,n){ci(t,n,e)}))}function dr(e,t,n){n=Math.min(e.l.length,n);var i=e.j?Fe(e.j.Oa,e.j,e):null;e:{var r=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=r[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=r[o].h;const a=r[o].g;if(n-=t,0>n)t=Math.max(0,r[o].h-100),s=!1;else try{Mi(a,e,"req"+n+"_")}catch(Fr){i&&i(a)}}if(s){i=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,i}function fr(e){e.g||e.u||(e.Y=1,en(e.Ga,e),e.A=0)}function pr(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=En(Fe(e.Ga,e),wr(e,e.A)),e.A++,!0)}function gr(e){null!=e.B&&(Ne.clearTimeout(e.B),e.B=null)}function mr(e){e.g=new Mn(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=ii(e.oa);ci(t,"RID","rpc"),ci(t,"SID",e.J),ci(t,"CI",e.N?"0":"1"),ci(t,"AID",e.U),ur(e,t),ci(t,"TYPE","xmlhttp"),e.o&&e.s&&nr(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=hi(ii(t)),n.s=null,n.U=!0,Vn(n,e)}function vr(e){null!=e.v&&(Ne.clearTimeout(e.v),e.v=null)}function yr(e,t){var n=null;if(e.g==t){vr(e),gr(e),e.g=null;var i=2}else{if(!Ri(e.i,t))return;n=t.D,Ni(e.i,t),i=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==i){n=t.s?t.s.length:0,t=Date.now()-t.F;var r=e.C;Kt(i=yn(),new Tn(i,n,t,r)),hr(e)}else fr(e);else if(3==(r=t.o)||0==r&&0<e.I||!(1==i&&function(e,t){return!(Ai(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=En(Fe(e.Ha,e,t),wr(e,e.C)),e.C++,!0))}(e,t)||2==i&&pr(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),r){case 1:br(e,5);break;case 4:br(e,10);break;case 3:br(e,6);break;default:br(e,2)}}function wr(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function br(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var i=Fe(e.jb,e);n||(n=new ni("//www.google.com/images/cleardot.gif"),Ne.location&&"http"==Ne.location.protocol||ri(n,"https"),hi(n)),function(e,t){const n=new pn;if(Ne.Image){const i=new Image;i.onload=ze(xi,n,i,"TestLoadImage: loaded",!0,t),i.onerror=ze(xi,n,i,"TestLoadImage: error",!1,t),i.onabort=ze(xi,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=ze(xi,n,i,"TestLoadImage: timeout",!1,t),Ne.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=e}else t(!1)}(n.toString(),i)}else _n(2);e.G=0,e.j&&e.j.va(t),Ir(e),ar(e)}function Ir(e){e.G=0,e.I=-1,e.j&&(0==Pi(e.i).length&&0==e.l.length||(e.i.i.length=0,We(e.l),e.l.length=0),e.j.ua())}function _r(e,t,n){let i=function(e){return e instanceof ni?ii(e):new ni(e,void 0)}(n);if(""!=i.i)t&&si(i,t+"."+i.i),oi(i,i.m);else{const e=Ne.location;i=function(e,t,n,i){var r=new ni(null,void 0);return e&&ri(r,e),t&&si(r,t),n&&oi(r,n),i&&(r.l=i),r}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&tt(e.aa,(function(e,t){ci(i,t,e)})),t=e.D,n=e.sa,t&&n&&ci(i,t,n),ci(i,"VER",e.ma),ur(e,i),i}function Tr(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new $i(new Ui({ib:!0})):new $i(e.qa)).L=e.H,t}function Er(){}function kr(){if(ct&&!(10<=Number(It)))throw Error("Environmental error: no available transport.")}function Sr(e,t){qt.call(this),this.g=new rr(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Ge(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ge(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Rr(this)}function Cr(e){Pn.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ar(){Dn.call(this),this.status=1}function Rr(e){this.g=e}(Ce=$i.prototype).ea=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():On.g(),this.C=this.u?An(this.u):An(On),this.g.onreadystatechange=Fe(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Xi(this,s)}e=n||"";const r=new Qn(this.headers);i&&Yn(i,(function(e,t){r.set(t,e)})),i=function(e){e:{var t=Gi;const n=e.length,i="string"===typeof e?e.split(""):e;for(let r=0;r<n;r++)if(r in i&&t.call(void 0,i[r],r,e)){t=r;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(r.T()),n=Ne.FormData&&e instanceof Ne.FormData,!(0<=$e(Wi,t))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Zi(this),0<this.B&&((this.K=function(e){return ct&&wt()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Fe(this.pa,this)):this.A=an(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Xi(this,s)}},Ce.pa=function(){"undefined"!=typeof Oe&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kt(this,"timeout"),this.abort(8))},Ce.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Kt(this,"complete"),Kt(this,"abort"),Qi(this))},Ce.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qi(this,!0)),$i.Z.M.call(this)},Ce.Fa=function(){this.s||(this.F||this.v||this.l?Yi(this):this.cb())},Ce.cb=function(){Yi(this)},Ce.ba=function(){try{return 2<er(this)?this.g.status:-1}catch(ki){return-1}},Ce.ga=function(){try{return this.g?this.g.responseText:""}catch(ki){return""}},Ce.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Hi(t)}},Ce.Da=function(){return this.m},Ce.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ce=rr.prototype).ma=8,Ce.G=1,Ce.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Ce.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const r=new Mn(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=nt(s),rt(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var i=this.l[n];if(void 0===(i="__data__"in i.g&&"string"===typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=dr(this,r,t),ci(n=ii(this.F),"RID",e),ci(n,"CVER",22),this.D&&ci(n,"X-HTTP-Session-Id",this.D),ur(this,n),this.o&&s&&nr(n,this.o,s),Oi(this.i,r),this.Ra&&ci(n,"TYPE","init"),this.ja?(ci(n,"$req",t),ci(n,"SID","null"),r.$=!0,zn(r,n,null)):zn(r,n,t),this.G=2}}else 3==this.G&&(e?lr(this,e):0==this.l.length||Ci(this.i)||lr(this))},Ce.Ga=function(){if(this.u=null,mr(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=En(Fe(this.bb,this),e)}},Ce.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,_n(10),or(this),mr(this))},Ce.ab=function(){null!=this.v&&(this.v=null,or(this),pr(this),_n(19))},Ce.jb=function(e){e?(this.h.info("Successfully pinged google.com"),_n(2)):(this.h.info("Failed to ping google.com"),_n(1))},(Ce=Er.prototype).xa=function(){},Ce.wa=function(){},Ce.va=function(){},Ce.ua=function(){},Ce.Oa=function(){},kr.prototype.g=function(e,t){return new Sr(e,t)},Ve(Sr,qt),Sr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),en(Fe(e.hb,e,t))),_n(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=_r(e,null,e.W),hr(e)},Sr.prototype.close=function(){sr(this.g)},Sr.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,cr(this.g,t)}else this.v?((t={}).__data__=Gt(e),cr(this.g,t)):cr(this.g,e)},Sr.prototype.M=function(){this.g.j=null,delete this.j,sr(this.g),delete this.g,Sr.Z.M.call(this)},Ve(Cr,Pn),Ve(Ar,Dn),Ve(Rr,Er),Rr.prototype.xa=function(){Kt(this.g,"a")},Rr.prototype.wa=function(e){Kt(this.g,new Cr(e))},Rr.prototype.va=function(e){Kt(this.g,new Ar(e))},Rr.prototype.ua=function(){Kt(this.g,"b")},kr.prototype.createWebChannel=kr.prototype.g,Sr.prototype.send=Sr.prototype.u,Sr.prototype.open=Sr.prototype.m,Sr.prototype.close=Sr.prototype.close,kn.NO_ERROR=0,kn.TIMEOUT=8,kn.HTTP_ERROR=6,Sn.COMPLETE="complete",Rn.EventType=Nn,Nn.OPEN="a",Nn.CLOSE="b",Nn.ERROR="c",Nn.MESSAGE="d",qt.prototype.listen=qt.prototype.N,$i.prototype.listenOnce=$i.prototype.O,$i.prototype.getLastError=$i.prototype.La,$i.prototype.getLastErrorCode=$i.prototype.Da,$i.prototype.getStatus=$i.prototype.ba,$i.prototype.getResponseJson=$i.prototype.Qa,$i.prototype.getResponseText=$i.prototype.ga,$i.prototype.send=$i.prototype.ea;Re.createWebChannelTransport=function(){return new kr},Re.getStatEventTarget=function(){return yn()},Re.ErrorCode=kn,Re.EventType=Sn,Re.Event=mn,Re.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Re.FetchXmlHttpFactory=Ui,Re.WebChannel=Rn,Re.XhrIo=$i,n(3454);const Or="@firebase/firestore";class Nr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nr.UNAUTHENTICATED=new Nr(null),Nr.GOOGLE_CREDENTIALS=new Nr("google-credentials-uid"),Nr.FIRST_PARTY=new Nr("first-party-uid"),Nr.MOCK_USER=new Nr("mock-user");let Pr="9.8.4";const Dr=new U("@firebase/firestore");function Lr(e,...t){if(Dr.logLevel<=P.DEBUG){const n=t.map(xr);Dr.debug(`Firestore (${Pr}): ${e}`,...n)}}function Mr(e,...t){if(Dr.logLevel<=P.ERROR){const n=t.map(xr);Dr.error(`Firestore (${Pr}): ${e}`,...n)}}function xr(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ur(e="Unexpected state"){const t=`FIRESTORE (${Pr}) INTERNAL ASSERTION FAILED: `+e;throw Mr(t),new Error(t)}function jr(e,t){e||Ur()}const Fr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class zr extends g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Br{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Hr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Nr.UNAUTHENTICATED)))}shutdown(){}}class $r{constructor(e){this.t=e,this.currentUser=Nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const i=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let r=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Vr,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const t=r;e.enqueueRetryable((async()=>{await t.promise,await i(this.currentUser)}))},o=e=>{Lr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Lr("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Vr)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Lr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(jr("string"==typeof t.accessToken),new Br(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return jr(null===e||"string"==typeof e),new Nr(e)}}class qr{constructor(e,t,n){this.type="FirstParty",this.user=Nr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class Kr{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new qr(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Nr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Wr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gr{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const n=e=>{null!=e.error&&Lr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.p;return this.p=e.token,Lr("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const i=e=>{Lr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.g.onInit((e=>i(e))),setTimeout((()=>{if(!this.appCheck){const e=this.g.getImmediate({optional:!0});e?i(e):Lr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(jr("string"==typeof e.token),this.p=e.token,new Wr(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Xr(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}class Jr{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=Xr(40);for(let r=0;r<i.length;++r)n.length<20&&i[r]<t&&(n+=e.charAt(i[r]%e.length))}return n}}function Yr(e,t){return e<t?-1:e>t?1:0}class Qr{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ur(),void 0===n?n=e.length-t:n>e.length-t&&Ur(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Qr.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qr?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const n=e.get(i),r=t.get(i);if(n<r)return-1;if(n>r)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Zr extends Qr{construct(e,t,n){return new Zr(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new zr(Fr.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new Zr(t)}static emptyPath(){return new Zr([])}}class es{constructor(e){this.path=e}static fromPath(e){return new es(Zr.fromString(e))}static fromName(e){return new es(Zr.fromString(e).popFirst(5))}static empty(){return new es(Zr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Zr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Zr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new es(new Zr(e.slice()))}}class ts{constructor(e,t,n,i){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=i}}ts.UNKNOWN_ID=-1;function ns(e){return"IndexedDbTransactionError"===e.name}class is{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.it(e),this.rt=e=>t.writeSequenceNumber(e))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}is.ot=-1;class rs{constructor(e,t){this.comparator=e,this.root=t||os.EMPTY}insert(e,t){return new rs(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,os.BLACK,null,null))}remove(e){return new rs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,os.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(0===i)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ss(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ss(this.root,e,this.comparator,!1)}getReverseIterator(){return new ss(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ss(this.root,e,this.comparator,!0)}}class ss{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?n(e.key,t):1,t&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(0===r){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class os{constructor(e,t,n,i,r){this.key=e,this.value=t,this.color=null!=n?n:os.RED,this.left=null!=i?i:os.EMPTY,this.right=null!=r?r:os.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,r){return new os(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const r=n(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return os.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return os.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,os.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,os.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ur();if(this.right.isRed())throw Ur();const e=this.left.check();if(e!==this.right.check())throw Ur();return e+(this.isRed()?0:1)}}os.EMPTY=null,os.RED=!0,os.BLACK=!1,os.EMPTY=new class{constructor(){this.size=0}get key(){throw Ur()}get value(){throw Ur()}get color(){throw Ur()}get left(){throw Ur()}get right(){throw Ur()}copy(e,t,n,i,r){return this}insert(e,t,n){return new os(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class as{constructor(e){this.comparator=e,this.data=new rs(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new cs(this.data.getIterator())}getIteratorFrom(e){return new cs(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof as))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(0!==this.comparator(e,i))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new as(this.comparator);return t.data=e,t}}class cs{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class hs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new hs(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new hs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hs.EMPTY_BYTE_STRING=new hs("");function ls(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function us(e){return"string"==typeof e?hs.fromBase64String(e):hs.fromUint8Array(e)}class ds{constructor(e,t,n,i,r,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class fs{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new fs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof fs&&e.projectId===this.projectId&&e.database===this.database}}function ps(e){return 0===e&&1/e==-1/0}function gs(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var ms,vs;(vs=ms||(ms={}))[vs.OK=0]="OK",vs[vs.CANCELLED=1]="CANCELLED",vs[vs.UNKNOWN=2]="UNKNOWN",vs[vs.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vs[vs.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vs[vs.NOT_FOUND=5]="NOT_FOUND",vs[vs.ALREADY_EXISTS=6]="ALREADY_EXISTS",vs[vs.PERMISSION_DENIED=7]="PERMISSION_DENIED",vs[vs.UNAUTHENTICATED=16]="UNAUTHENTICATED",vs[vs.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vs[vs.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vs[vs.ABORTED=10]="ABORTED",vs[vs.OUT_OF_RANGE=11]="OUT_OF_RANGE",vs[vs.UNIMPLEMENTED=12]="UNIMPLEMENTED",vs[vs.INTERNAL=13]="INTERNAL",vs[vs.UNAVAILABLE=14]="UNAVAILABLE",vs[vs.DATA_LOSS=15]="DATA_LOSS";new rs(es.comparator);new rs(es.comparator);new rs(es.comparator),new as(es.comparator);new as(Yr);const ys=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ws=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bs=ws;class Is{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(ls(e.integerValue));else if("doubleValue"in e){const n=ls(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),ps(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ce(t,20),"string"==typeof n?t.he(n):(t.he(`${n.seconds||""}`),t.ae(n.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(us(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ce(t,45),t.ae(n.latitude||0),t.ae(n.longitude||0)}else"mapValue"in e?gs(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):Ur()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const n=e.fields||{};this.ce(t,55);for(const i of Object.keys(n))this.le(i,t),this.oe(n[i],t)}me(e,t){const n=e.values||[];this.ce(t,50);for(const i of n)this.oe(i,t)}_e(e,t){this.ce(t,37),es.fromName(e).path.forEach((e=>{this.ce(t,60),this.ge(e,t)}))}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}Is.ye=new Is;new Uint8Array(0);class _s{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new _s(e,_s.DEFAULT_COLLECTION_PERCENTILE,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}_s.DEFAULT_COLLECTION_PERCENTILE=10,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_s.DEFAULT=new _s(41943040,_s.DEFAULT_COLLECTION_PERCENTILE,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_s.DISABLED=new _s(-1,0,0);function Ts(){return"undefined"!=typeof document?document:null}class Es{constructor(e,t,n=1e3,i=1.5,r=6e4){this.js=e,this.timerId=t,this.lo=n,this.fo=i,this._o=r,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),n=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-n);i>0&&Lr("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(()=>(this.yo=Date.now(),e()))),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class ks{constructor(e,t,n,i,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,i,r){const s=Date.now()+n,o=new ks(e,t,s,i,r);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new zr(Fr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ss(e,t){if(Mr("AsyncQueue",`${t}: ${e}`),ns(e))return new zr(Fr.UNAVAILABLE,`${t}: ${e}`);throw e}class Cs{constructor(e,t,n,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=Nr.UNAUTHENTICATED,this.clientId=Jr.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Lr("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Lr("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new zr(Fr.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Ss(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}const As=new Map;class Rs{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new zr(Fr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new zr(Fr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(e,t,n,i){if(!0===t&&!0===i)throw new zr(Fr.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Os{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rs({}),this._settingsFrozen=!1,e instanceof fs?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new zr(Fr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fs(e.options.projectId)}(e))}get app(){if(!this._app)throw new zr(Fr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new zr(Fr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rs(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Hr;switch(e.type){case"gapi":const t=e.client;return jr(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Kr(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new zr(Fr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=As.get(e);t&&(Lr("ComponentProvider","Removing Datastore"),As.delete(e),t.terminate())}(this),Promise.resolve()}}class Ns{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new Es(this,"async_queue_retry"),this.Kc=()=>{const e=Ts();e&&Lr("AsyncQueue","Visibility state changed to "+e.visibilityState),this.So.Eo()};const e=Ts();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=Ts();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise((()=>{}));const t=new Vr;return this.Qc((()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Mc.push(e),this.jc())))}async jc(){if(0!==this.Mc.length){try{await this.Mc[0](),this.Mc.shift(),this.So.reset()}catch(Ve){if(!ns(Ve))throw Ve;Lr("AsyncQueue","Operation failed with retryable error: "+Ve)}this.Mc.length>0&&this.So.Io((()=>this.jc()))}}Qc(e){const t=this.Oc.then((()=>(this.Lc=!0,e().catch((e=>{this.Bc=e,this.Lc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Mr("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Lc=!1,e))))));return this.Oc=t,t}enqueueAfterDelay(e,t,n){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const i=ks.createAndSchedule(this,e,t,n,(e=>this.Wc(e)));return this.$c.push(i),i}Gc(){this.Bc&&Ur()}verifyOperationInProgress(){}async zc(){let e;do{e=this.Oc,await e}while(e!==this.Oc)}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then((()=>{this.$c.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()}))}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}class Ps extends Os{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new Ns,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Ds(this),this._firestoreClient.terminate()}}function Ds(e){var t;const n=e._freezeSettings(),i=function(e,t,n,i){return new ds(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Cs(e._authCredentials,e._appCheckCredentials,e._queue,i)}!function(e,t=!0){Pr="9.8.4",le(new C("firestore",((e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=new Ps(i,new $r(e.getProvider("auth-internal")),new Gr(e.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:t},n),r._setSettings(n),r}),"PUBLIC")),me(Or,"3.4.11",e),me(Or,"3.4.11","esm2017")}();const Ls="@firebase/installations",Ms="0.5.11",xs=1e4,Us="w:0.5.11",js="FIS_v2",Fs=36e5,zs=new m("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Vs(e){return e instanceof g&&e.code.includes("request-failed")}function Bs({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function Hs(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function $s(e,t){const n=(await t.json()).error;return zs.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function qs({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Ks(e,{refreshToken:t}){const n=qs(e);return n.append("Authorization",function(e){return`FIS_v2 ${e}`}(t)),n}async function Ws(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Gs(e){return new Promise((t=>{setTimeout(t,e)}))}const Xs=/^[cdef][\w-]{21}$/;function Js(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){return(t=e,btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return Xs.test(t)?t:""}catch(As){return""}}function Ys(e){return`${e.appName}!${e.appId}`}const Qs=new Map;function Zs(e,t){const n=Ys(e);eo(n,t),function(e,t){const n=no();n&&n.postMessage({key:e,fid:t});io()}(n,t)}function eo(e,t){const n=Qs.get(e);if(n)for(const i of n)i(t)}let to=null;function no(){return!to&&"BroadcastChannel"in self&&(to=new BroadcastChannel("[Firebase] FID Change"),to.onmessage=e=>{eo(e.data.key,e.data.fid)}),to}function io(){0===Qs.size&&to&&(to.close(),to=null)}const ro="firebase-installations-store";let so=null;function oo(){return so||(so=J("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(ro)}})),so}async function ao(e,t){const n=Ys(e),i=(await oo()).transaction(ro,"readwrite"),r=i.objectStore(ro),s=await r.get(n);return await r.put(t,n),await i.done,s&&s.fid===t.fid||Zs(e,t.fid),t}async function co(e){const t=Ys(e),n=(await oo()).transaction(ro,"readwrite");await n.objectStore(ro).delete(t),await n.done}async function ho(e,t){const n=Ys(e),i=(await oo()).transaction(ro,"readwrite"),r=i.objectStore(ro),s=await r.get(n),o=t(s);return void 0===o?await r.delete(n):await r.put(o,n),await i.done,!o||s&&s.fid===o.fid||Zs(e,o.fid),o}async function lo(e){let t;const n=await ho(e.appConfig,(n=>{const i=function(e){return po(e||{fid:Js(),registrationStatus:0})}(n),r=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(zs.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=async function(e,t){try{const n=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const i=Bs(e),r=qs(e),s=t.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&r.append("x-firebase-client",e)}const o={fid:n,authVersion:js,appId:e.appId,sdkVersion:Us},a={method:"POST",headers:r,body:JSON.stringify(o)},c=await Ws((()=>fetch(i,a)));if(c.ok){const e=await c.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:Hs(e.authToken)}}throw await $s("Create Installation",c)}(e,t);return ao(e.appConfig,n)}catch(n){throw Vs(n)&&409===n.customData.serverCode?await co(e.appConfig):await ao(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:i}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:uo(e)}:{installationEntry:t}}(e,i);return t=r.registrationPromise,r.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function uo(e){let t=await fo(e.appConfig);for(;1===t.registrationStatus;)await Gs(100),t=await fo(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await lo(e);return n||t}return t}function fo(e){return ho(e,(e=>{if(!e)throw zs.create("installation-not-found");return po(e)}))}function po(e){return 1===(t=e).registrationStatus&&t.registrationTime+xs<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function go({appConfig:e,heartbeatServiceProvider:t},n){const i=function(e,{fid:t}){return`${Bs(e)}/${t}/authTokens:generate`}(e,n),r=Ks(e,n),s=t.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&r.append("x-firebase-client",e)}const o={installation:{sdkVersion:Us,appId:e.appId}},a={method:"POST",headers:r,body:JSON.stringify(o)},c=await Ws((()=>fetch(i,a)));if(c.ok){return Hs(await c.json())}throw await $s("Generate Auth Token",c)}async function mo(e,t=!1){let n;const i=await ho(e.appConfig,(i=>{if(!yo(i))throw zs.create("not-registered");const r=i.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Fs}(e)}(r))return i;if(1===r.requestStatus)return n=async function(e,t){let n=await vo(e.appConfig);for(;1===n.authToken.requestStatus;)await Gs(100),n=await vo(e.appConfig);const i=n.authToken;return 0===i.requestStatus?mo(e,t):i}(e,t),i;{if(!navigator.onLine)throw zs.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(i);return n=async function(e,t){try{const n=await go(e,t),i=Object.assign(Object.assign({},t),{authToken:n});return await ao(e.appConfig,i),n}catch(n){if(!Vs(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await ao(e.appConfig,n)}else await co(e.appConfig);throw n}}(e,t),t}}));return n?await n:i.authToken}function vo(e){return ho(e,(e=>{if(!yo(e))throw zs.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+xs<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function yo(e){return void 0!==e&&2===e.registrationStatus}async function wo(e,t=!1){const n=e;await async function(e){const{registrationPromise:t}=await lo(e);t&&await t}(n);return(await mo(n,t)).token}function bo(e){return zs.create("missing-app-config-values",{valueName:e})}const Io="installations",_o=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw bo("App Configuration");if(!e.name)throw bo("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw bo(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:ue(t,"heartbeat"),_delete:()=>Promise.resolve()}},To=e=>{const t=ue(e.getProvider("app").getImmediate(),Io).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:i}=await lo(t);return i?i.catch(console.error):mo(t).catch(console.error),n.fid}(t),getToken:e=>wo(t,e)}};le(new C(Io,_o,"PUBLIC")),le(new C("installations-internal",To,"PRIVATE")),me(Ls,Ms),me(Ls,Ms,"esm2017");const Eo="analytics",ko="https://www.googletagmanager.com/gtag/js",So=new U("@firebase/analytics");function Co(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function Ao(e,t,n,i){return async function(r,s,o){try{"event"===r?await async function(e,t,n,i,r){try{let s=[];if(r&&r.send_to){let e=r.send_to;Array.isArray(e)||(e=[e]);const i=await Co(n);for(const n of e){const e=i.find((e=>e.measurementId===n)),r=e&&t[e.appId];if(!r){s=[];break}s.push(r)}}0===s.length&&(s=Object.values(t)),await Promise.all(s),e("event",i,r||{})}catch(s){So.error(s)}}(e,t,n,s,o):"config"===r?await async function(e,t,n,i,r,s){const o=i[r];try{if(o)await t[o];else{const e=(await Co(n)).find((e=>e.measurementId===r));e&&await t[e.appId]}}catch(a){So.error(a)}e("config",r,s)}(e,t,n,i,s,o):e("set",s)}catch(a){So.error(a)}}}const Ro=new m("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'});const Oo=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function No(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Po(e,t=Oo,n){const{appId:i,apiKey:r,measurementId:s}=e.options;if(!i)throw Ro.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw Ro.create("no-api-key")}const o=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Lo;return setTimeout((async()=>{a.abort()}),void 0!==n?n:6e4),Do({appId:i,apiKey:r,measurementId:s},o,a,t)}async function Do(e,{throttleEndTimeMillis:t,backoffCount:n},i,r=Oo){var s,o;const{appId:a,measurementId:c}=e;try{await function(e,t){return new Promise(((n,i)=>{const r=Math.max(t-Date.now(),0),s=setTimeout(n,r);e.addEventListener((()=>{clearTimeout(s),i(Ro.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(i,t)}catch(h){if(c)return So.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${null===(s=h)||void 0===s?void 0:s.message}]`),{appId:a,measurementId:c};throw h}try{const t=await async function(e){var t;const{appId:n,apiKey:i}=e,r={method:"GET",headers:No(i)},s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),o=await fetch(s,r);if(200!==o.status&&304!==o.status){let e="";try{const n=await o.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw Ro.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()}(e);return r.deleteThrottleMetadata(a),t}catch(h){const t=h;if(!function(e){if(!(e instanceof g)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(r.deleteThrottleMetadata(a),c)return So.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${null===t||void 0===t?void 0:t.message}]`),{appId:a,measurementId:c};throw h}const s=503===Number(null===(o=null===t||void 0===t?void 0:t.customData)||void 0===o?void 0:o.httpStatus)?k(n,r.intervalMillis,30):k(n,r.intervalMillis),l={throttleEndTimeMillis:Date.now()+s,backoffCount:n+1};return r.setThrottleMetadata(a,l),So.debug(`Calling attemptFetch again in ${s} millis`),Do(e,l,i,r)}}class Lo{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}async function Mo(e,t,n,i,r,s,o){var a;const c=Po(e);c.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&So.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((e=>So.error(e))),t.push(c);const h=async function(){var e;if(!f())return So.warn(Ro.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await p()}catch(t){return So.warn(Ro.create("indexeddb-unavailable",{errorInfo:null===(e=t)||void 0===e?void 0:e.toString()}).message),!1}return!0}().then((e=>e?i.getId():void 0)),[l,u]=await Promise.all([c,h]);(function(){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(ko))return t;return null})()||function(e,t){const n=document.createElement("script");n.src=`${ko}?l=${e}&id=${t}`,n.async=!0,document.head.appendChild(n)}(s,l.measurementId),r("js",new Date);const d=null!==(a=null===o||void 0===o?void 0:o.config)&&void 0!==a?a:{};return d.origin="firebase",d.update=!0,null!=u&&(d.firebase_id=u),r("config",l.measurementId,d),l.measurementId}class xo{constructor(e){this.app=e}_delete(){return delete Uo[this.app.options.appId],Promise.resolve()}}let Uo={},jo=[];const Fo={};let zo,Vo,Bo="dataLayer",Ho="gtag",$o=!1;function qo(){const e=[];if(d()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>`(${t+1}) ${e}`)).join(" "),n=Ro.create("invalid-analytics-context",{errorInfo:t});So.warn(n.message)}}function Ko(e,t,n){qo();const i=e.options.appId;if(!i)throw Ro.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Ro.create("no-api-key");So.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Uo[i])throw Ro.create("already-exists",{id:i});if(!$o){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Bo);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,i,r){let s=function(...e){window[i].push(arguments)};return window[r]&&"function"===typeof window[r]&&(s=window[r]),window[r]=Ao(s,e,t,n),{gtagCore:s,wrappedGtag:window[r]}}(Uo,jo,Fo,Bo,Ho);Vo=e,zo=t,$o=!0}Uo[i]=Mo(e,jo,Fo,t,zo,Bo,n);return new xo(e)}function Wo(e,t,n,i){e=S(e),async function(e,t,n,i,r){if(r&&r.global)e("event",n,i);else{const r=await t;e("event",n,Object.assign(Object.assign({},i),{send_to:r}))}}(Vo,Uo[e.app.options.appId],t,n,i).catch((e=>So.error(e)))}const Go="@firebase/analytics",Xo="0.7.11";le(new C(Eo,((e,{options:t})=>Ko(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t)),"PUBLIC")),le(new C("analytics-internal",(function(e){try{const t=e.getProvider(Eo).getImmediate();return{logEvent:(e,n,i)=>Wo(t,e,n,i)}}catch(t){throw Ro.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),me(Go,Xo),me(Go,Xo,"esm2017");function Jo(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}Object.create;Object.create;function Yo(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Qo=Yo,Zo=new m("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ea=new U("@firebase/auth");function ta(e,...t){ea.logLevel<=P.ERROR&&ea.error(`Auth (9.8.4): ${e}`,...t)}function na(e,...t){throw sa(e,...t)}function ia(e,...t){return sa(e,...t)}function ra(e,t,n){const i=Object.assign(Object.assign({},Qo()),{[t]:n});return new m("auth","Firebase",i).create(t,{appName:e.name})}function sa(e,...t){if("string"!==typeof e){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return Zo.create(e,...t)}function oa(e,t,...n){if(!e)throw sa(t,...n)}function aa(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ta(t),new Error(t)}function ca(e,t){e||aa(t)}const ha=new Map;function la(e){ca(e instanceof Function,"Expected a class definition");let t=ha.get(e);return t?(ca(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ha.set(e,t),t)}function ua(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function da(){return"http:"===fa()||"https:"===fa()}function fa(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class pa{constructor(e,t){this.shortDelay=e,this.longDelay=t,ca(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(da()||d()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function ga(e,t){ca(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class ma{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void aa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void aa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void aa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const va={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ya=new pa(3e4,6e4);function wa(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ba(e,t,n,i,r={}){return Ia(e,r,(async()=>{let r={},s={};i&&("GET"===t?s=i:r={body:JSON.stringify(i)});const o=b(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),ma.fetch()(Ta(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},r))}))}async function Ia(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},va),t);try{const t=new Ea(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await r.json();if("needConfirmation"in s)throw ka(e,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const t=r.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw ka(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw ka(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw ka(e,"user-disabled",s);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw ra(e,a,o);na(e,a)}}catch(r){if(r instanceof g)throw r;na(e,"network-request-failed")}}async function _a(e,t,n,i,r={}){const s=await ba(e,t,n,i,r);return"mfaPendingCredential"in s&&na(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Ta(e,t,n,i){const r=`${t}${n}?${i}`;return e.config.emulator?ga(e.config,r):`${e.config.apiScheme}://${r}`}class Ea{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(ia(this.auth,"network-request-failed"))),ya.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function ka(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=ia(e,t,i);return r.customData._tokenResponse=n,r}function Sa(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Ca(e){return 1e3*Number(e)}function Aa(e){var t;const[n,i,r]=e.split(".");if(void 0===n||void 0===i||void 0===r)return ta("JWT malformed, contained fewer than 3 sections"),null;try{const e=h(i);return e?JSON.parse(e):(ta("Failed to decode base64 JWT payload"),null)}catch(s){return ta("Caught error parsing JWT payload as JSON",null===(t=s)||void 0===t?void 0:t.toString()),null}}async function Ra(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof g&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}class Oa{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null===(e=t)||void 0===e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class Na{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sa(this.lastLoginAt),this.creationTime=Sa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Pa(e){var t;const n=e.auth,i=await e.getIdToken(),r=await Ra(e,async function(e,t){return ba(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:i}));oa(null===r||void 0===r?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=Jo(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(c=e.providerData,h=o,[...c.filter((e=>!h.some((t=>t.providerId===e.providerId)))),...h]);var c,h;const l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!l&&u,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Na(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class Da{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oa(e.idToken,"internal-error"),oa("undefined"!==typeof e.idToken,"internal-error"),oa("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Aa(e);return oa(t,"internal-error"),oa("undefined"!==typeof t.exp,"internal-error"),oa("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return oa(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:r}=await async function(e,t){const n=await Ia(e,{},(async()=>{const n=b({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:r}=e.config,s=Ta(e,i,"/v1/token",`key=${r}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",ma.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,i,Number(r))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:r}=t,s=new Da;return n&&(oa("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),i&&(oa("string"===typeof i,"internal-error",{appName:e}),s.accessToken=i),r&&(oa("number"===typeof r,"internal-error",{appName:e}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Da,this.toJSON())}_performRefresh(){return aa("not implemented")}}function La(e,t){oa("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Ma{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,r=Jo(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Oa(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Na(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await Ra(this,this.stsTokenManager.getToken(this.auth,e));return oa(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=S(e),i=await n.getIdToken(t),r=Aa(i);oa(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s="object"===typeof r.firebase?r.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Sa(Ca(r.auth_time)),issuedAtTime:Sa(Ca(r.iat)),expirationTime:Sa(Ca(r.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=S(e);await Pa(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(oa(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Ma(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){oa(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Pa(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ra(this,async function(e,t){return ba(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,r,s,o,a,c,h;const l=null!==(n=t.displayName)&&void 0!==n?n:void 0,u=null!==(i=t.email)&&void 0!==i?i:void 0,d=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(h=t.lastLoginAt)&&void 0!==h?h:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:I,stsTokenManager:_}=t;oa(y&&_,e,"internal-error");const T=Da.fromJSON(this.name,_);oa("string"===typeof y,e,"internal-error"),La(l,e.name),La(u,e.name),oa("boolean"===typeof w,e,"internal-error"),oa("boolean"===typeof b,e,"internal-error"),La(d,e.name),La(f,e.name),La(p,e.name),La(g,e.name),La(m,e.name),La(v,e.name);const E=new Ma({uid:y,auth:e,email:u,emailVerified:w,displayName:l,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:T,createdAt:m,lastLoginAt:v});return I&&Array.isArray(I)&&(E.providerData=I.map((e=>Object.assign({},e)))),g&&(E._redirectEventId=g),E}static async _fromIdTokenResponse(e,t,n=!1){const i=new Da;i.updateFromServerResponse(t);const r=new Ma({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Pa(r),r}}class xa{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}xa.type="NONE";const Ua=xa;function ja(e,t,n){return`firebase:${e}:${t}:${n}`}class Fa{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=ja(this.userKey,i.apiKey,r),this.fullPersistenceKey=ja("persistence",i.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ma._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Fa(la(Ua),e,n);const i=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let r=i[0]||la(Ua);const s=ja(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){const n=Ma._fromJSON(e,t);c!==r&&(o=n),r=c;break}}catch(As){}const a=i.filter((e=>e._shouldAllowMigration));return r._shouldAllowMigration&&a.length?(r=a[0],o&&await r._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==r)try{await e._remove(s)}catch(As){}}))),new Fa(r,e,n)):new Fa(r,e,n)}}function za(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if($a(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Va(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ka(t))return"Blackberry";if(Wa(t))return"Webos";if(Ba(t))return"Safari";if((t.includes("chrome/")||Ha(t))&&!t.includes("edge/"))return"Chrome";if(qa(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Va(e=u()){return/firefox\//i.test(e)}function Ba(e=u()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ha(e=u()){return/crios\//i.test(e)}function $a(e=u()){return/iemobile/i.test(e)}function qa(e=u()){return/android/i.test(e)}function Ka(e=u()){return/blackberry/i.test(e)}function Wa(e=u()){return/webos/i.test(e)}function Ga(e=u()){return/iphone|ipad|ipod/i.test(e)}function Xa(){return function(){const e=u();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Ja(e=u()){return Ga(e)||qa(e)||Wa(e)||Ka(e)||/windows phone/i.test(e)||$a(e)}function Ya(e,t=[]){let n;switch(e){case"Browser":n=za(u());break;case"Worker":n=`${za(u())}-${e}`;break;default:n=e}return`${n}/JsCore/9.8.4/${t.length?t.join(","):"FirebaseCore-web"}`}class Qa{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,i)=>{try{n(e(t))}catch(r){i(r)}}));n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){var t;if(this.auth.currentUser===e)return;const n=[];try{for(const t of this.queue)await t(e),t.onAbort&&n.push(t.onAbort)}catch(i){n.reverse();for(const e of n)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(t=i)||void 0===t?void 0:t.message})}}}class Za{constructor(e,t,n){this.app=e,this.heartbeatServiceProvider=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tc(this),this.idTokenSubscription=new tc(this),this.beforeStateQueue=new Qa(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zo,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=la(t)),this._initializationPromise=this.queue((async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Fa.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(r){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(e,!0)):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(i=o.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return oa(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){var t;try{await Pa(e)}catch(n){if("auth/network-request-failed"!==(null===(t=n)||void 0===t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?S(e):null;return t&&oa(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&oa(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(la(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new m("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&la(e)||this._popupRedirectResolver;oa(t,this,"argument-error"),this.redirectPersistenceManager=await Fa.create(this,[la(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const r="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return oa(s,this,"internal-error"),s.then((()=>r(this.currentUser))),"function"===typeof t?e.addObserver(t,n,i):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oa(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ya(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());return n&&(t["X-Firebase-Client"]=n),t}}function ec(e){return S(e)}class tc{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new T(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return oa(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class nc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return aa("not implemented")}_getIdTokenResponse(e){return aa("not implemented")}_linkToIdToken(e,t){return aa("not implemented")}_getReauthenticationResolver(e){return aa("not implemented")}}async function ic(e,t){return ba(e,"POST","/v1/accounts:update",t)}class rc extends nc{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new rc(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new rc(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return _a(e,"POST","/v1/accounts:signInWithPassword",wa(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return _a(e,"POST","/v1/accounts:signInWithEmailLink",wa(e,t))}(e,{email:this._email,oobCode:this._password});default:na(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ic(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return _a(e,"POST","/v1/accounts:signInWithEmailLink",wa(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:na(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function sc(e,t){return _a(e,"POST","/v1/accounts:signInWithIdp",wa(e,t))}class oc extends nc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new oc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):na("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,r=Jo(t,["providerId","signInMethod"]);if(!n||!i)return null;const s=new oc(n,i);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(e){return sc(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,sc(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,sc(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=b(t)}return e}}const ac={USER_NOT_FOUND:"user-not-found"};class cc extends nc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new cc({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new cc({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return _a(e,"POST","/v1/accounts:signInWithPhoneNumber",wa(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await _a(e,"POST","/v1/accounts:signInWithPhoneNumber",wa(e,t));if(n.temporaryProof)throw ka(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return _a(e,"POST","/v1/accounts:signInWithPhoneNumber",wa(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ac)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}=e;return n||t||i||r?new cc({verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}class hc{constructor(e){var t,n,i,r,s,o;const a=I(_(e)),c=null!==(t=a.apiKey)&&void 0!==t?t:null,h=null!==(n=a.oobCode)&&void 0!==n?n:null,l=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=a.mode)&&void 0!==i?i:null);oa(c&&h&&l,"argument-error"),this.apiKey=c,this.operation=l,this.code=h,this.continueUrl=null!==(r=a.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=I(_(e)).link,n=t?I(_(t)).deep_link_id:null,i=I(_(e)).deep_link_id;return(i?I(_(i)).link:null)||i||n||t||e}(e);try{return new hc(t)}catch(As){return null}}}class lc{constructor(){this.providerId=lc.PROVIDER_ID}static credential(e,t){return rc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=hc.parseLink(t);return oa(n,"argument-error"),rc._fromEmailAndCode(e,n.code,n.tenantId)}}lc.PROVIDER_ID="password",lc.EMAIL_PASSWORD_SIGN_IN_METHOD="password",lc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class uc{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class dc extends uc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class fc extends dc{constructor(){super("facebook.com")}static credential(e){return oc._fromParams({providerId:fc.PROVIDER_ID,signInMethod:fc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fc.credentialFromTaggedObject(e)}static credentialFromError(e){return fc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return fc.credential(e.oauthAccessToken)}catch(As){return null}}}fc.FACEBOOK_SIGN_IN_METHOD="facebook.com",fc.PROVIDER_ID="facebook.com";class pc extends dc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return oc._fromParams({providerId:pc.PROVIDER_ID,signInMethod:pc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return pc.credentialFromTaggedObject(e)}static credentialFromError(e){return pc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return pc.credential(t,n)}catch(As){return null}}}pc.GOOGLE_SIGN_IN_METHOD="google.com",pc.PROVIDER_ID="google.com";class gc extends dc{constructor(){super("github.com")}static credential(e){return oc._fromParams({providerId:gc.PROVIDER_ID,signInMethod:gc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gc.credentialFromTaggedObject(e)}static credentialFromError(e){return gc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return gc.credential(e.oauthAccessToken)}catch(As){return null}}}gc.GITHUB_SIGN_IN_METHOD="github.com",gc.PROVIDER_ID="github.com";class mc extends dc{constructor(){super("twitter.com")}static credential(e,t){return oc._fromParams({providerId:mc.PROVIDER_ID,signInMethod:mc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return mc.credentialFromTaggedObject(e)}static credentialFromError(e){return mc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return mc.credential(t,n)}catch(As){return null}}}async function vc(e,t){return _a(e,"POST","/v1/accounts:signUp",wa(e,t))}mc.TWITTER_SIGN_IN_METHOD="twitter.com",mc.PROVIDER_ID="twitter.com";class yc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const r=await Ma._fromIdTokenResponse(e,n,i),s=wc(n);return new yc({user:r,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=wc(n);return new yc({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function wc(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class bc extends g{constructor(e,t,n,i){var r;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,bc.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new bc(e,t,n,i)}}function Ic(e,t,n,i){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw bc._fromErrorAndOperation(e,n,t,i);throw n}))}async function _c(e,t,n=!1){const i=await Ra(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return yc._forOperation(e,"link",i)}async function Tc(e,t,n=!1){var i;const{auth:r}=e,s="reauthenticate";try{const i=await Ra(e,Ic(r,s,t,e),n);oa(i.idToken,r,"internal-error");const o=Aa(i.idToken);oa(o,r,"internal-error");const{sub:a}=o;return oa(e.uid===a,r,"user-mismatch"),yc._forOperation(e,s,i)}catch(o){throw"auth/user-not-found"===(null===(i=o)||void 0===i?void 0:i.code)&&na(r,"user-mismatch"),o}}async function Ec(e,t,n=!1){const i="signIn",r=await Ic(e,i,t),s=await yc._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}new WeakMap;const kc="__sak";class Sc{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(kc,"1"),this.storage.removeItem(kc),Promise.resolve(!0)):Promise.resolve(!1)}catch(As){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Cc extends Sc{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=u();return Ba(e)||Ga(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Ja(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(n);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const i=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},r=this.storage.getItem(n);Xa()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Cc.type="LOCAL";const Ac=Cc;class Rc extends Sc{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Rc.type="SESSION";const Oc=Rc;class Nc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Nc(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:r}=t.data,s=this.handlersMap[i];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map((async e=>e(t.origin,r))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Pc(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(10*Math.random());return e+n}Nc.receivers=[];class Dc{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,s;return new Promise(((o,a)=>{const c=Pc("",20);i.port1.start();const h=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:i,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(h),r=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),o(t.data.response);break;default:clearTimeout(h),clearTimeout(r),a(new Error("invalid_response"))}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[i.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Lc(){return window}function Mc(){return"undefined"!==typeof Lc().WorkerGlobalScope&&"function"===typeof Lc().importScripts}const xc="firebaseLocalStorageDb",Uc="firebaseLocalStorage",jc="fbase_key";class Fc{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function zc(e,t){return e.transaction([Uc],t?"readwrite":"readonly").objectStore(Uc)}function Vc(){const e=indexedDB.open(xc,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Uc,{keyPath:jc})}catch(i){n(i)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Uc)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(xc);return new Fc(e).toPromise()}(),t(await Vc()))}))}))}async function Bc(e,t,n){const i=zc(e,!0).put({[jc]:t,value:n});return new Fc(i).toPromise()}function Hc(e,t){const n=zc(e,!0).delete(t);return new Fc(n).toPromise()}class $c{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Vc()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Mc()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nc._getInstance(Mc()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Dc(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(As){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vc();return await Bc(e,kc,"1"),await Hc(e,kc),!0}catch(As){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Bc(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=zc(e,!1).get(t),i=await new Fc(n).toPromise();return void 0===i?null:i.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Hc(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=zc(e,!1).getAll();return new Fc(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:i,value:r}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}$c.type="LOCAL";const qc=$c;function Kc(e){return new Promise(((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=e=>{const t=ia("internal-error");t.customData=e,n(t)},i.type="text/javascript",i.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(i)}))}function Wc(e){return`__${e}${Math.floor(1e6*Math.random())}`}Wc("rcb"),new pa(3e4,6e4);const Gc="recaptcha";async function Xc(e,t,n){var i;const r=await n.verify();try{let s;if(oa("string"===typeof r,e,"argument-error"),oa(n.type===Gc,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){oa("enroll"===t.type,e,"internal-error");const n=await function(e,t){return ba(e,"POST","/v2/accounts/mfaEnrollment:start",wa(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}});return n.phoneSessionInfo.sessionInfo}{oa("signin"===t.type,e,"internal-error");const n=(null===(i=s.multiFactorHint)||void 0===i?void 0:i.uid)||s.multiFactorUid;oa(n,e,"missing-multi-factor-info");const o=await function(e,t){return ba(e,"POST","/v2/accounts/mfaSignIn:start",wa(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return ba(e,"POST","/v1/accounts:sendVerificationCode",wa(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:r});return t}}finally{n._reset()}}class Jc{constructor(e){this.providerId=Jc.PROVIDER_ID,this.auth=ec(e)}verifyPhoneNumber(e,t){return Xc(this.auth,e,S(t))}static credential(e,t){return cc._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Jc.credentialFromTaggedObject(t)}static credentialFromError(e){return Jc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?cc._fromTokenResponse(t,n):null}}function Yc(e,t){return t?la(t):(oa(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Jc.PROVIDER_ID="phone",Jc.PHONE_SIGN_IN_METHOD="phone";class Qc extends nc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return sc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return sc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Zc(e){return Ec(e.auth,new Qc(e),e.bypassAuthState)}function eh(e){const{auth:t,user:n}=e;return oa(n,t,"internal-error"),Tc(n,new Qc(e),e.bypassAuthState)}async function th(e){const{auth:t,user:n}=e;return oa(n,t,"internal-error"),_c(n,new Qc(e),e.bypassAuthState)}class nh{constructor(e,t,n,i,r=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:r,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Zc;case"linkViaPopup":case"linkViaRedirect":return th;case"reauthViaPopup":case"reauthViaRedirect":return eh;default:na(this.auth,"internal-error")}}resolve(e){ca(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ca(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ih=new pa(2e3,1e4);class rh extends nh{constructor(e,t,n,i,r){super(e,t,i,r),this.provider=n,this.authWindow=null,this.pollId=null,rh.currentPopupAction&&rh.currentPopupAction.cancel(),rh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oa(e,this.auth,"internal-error"),e}async onExecution(){ca(1===this.filter.length,"Popup operations only handle one event");const e=Pc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(ia(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(ia(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(ia(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,ih.get())};e()}}rh.currentPopupAction=null;const sh=new Map;class oh extends nh{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=sh.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=hh(t),i=ch(e);if(!(await i._isAvailable()))return!1;const r="true"===await i._get(n);return await i._remove(n),r}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ah(e,t){sh.set(e._key(),t)}function ch(e){return la(e._redirectPersistence)}function hh(e){return ja("pendingRedirect",e.config.apiKey,e.name)}async function lh(e,t,n=!1){const i=ec(e),r=Yc(i,t),s=new oh(i,r,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}class uh{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fh(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!fh(e)){const i=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ia(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(dh(e))}saveEventToCache(e){this.cachedEventUids.add(dh(e)),this.lastProcessedEventTime=Date.now()}}function dh(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function fh({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null===t||void 0===t?void 0:t.code)}const ph=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gh=/^https?/;async function mh(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return ba(e,"GET","/v1/projects",t)}(e);for(const n of t)try{if(vh(n))return}catch(As){}na(e,"unauthorized-domain")}function vh(e){const t=ua(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const r=new URL(e);return""===r.hostname&&""===i?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!gh.test(n))return!1;if(ph.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const yh=new pa(3e4,6e4);function wh(){const e=Lc().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let bh=null;function Ih(e){return bh=bh||function(e){return new Promise(((t,n)=>{var i,r,s;function o(){wh(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{wh(),n(ia(e,"network-request-failed"))},timeout:yh.get()})}if(null===(r=null===(i=Lc().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Lc().gapi)||void 0===s?void 0:s.load)){const t=Wc("iframefcb");return Lc()[t]=()=>{gapi.load?o():n(ia(e,"network-request-failed"))},Kc(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}o()}})).catch((e=>{throw bh=null,e}))}(e),bh}const _h=new pa(5e3,15e3),Th={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Eh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kh(e){const t=e.config;oa(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ga(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,i={apiKey:t.apiKey,appName:e.name,v:pe},r=Eh.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${b(i).slice(1)}`}const Sh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ch{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Ah(e,t,n,i=500,r=600){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const c=Object.assign(Object.assign({},Sh),{width:i.toString(),height:r.toString(),top:s,left:o}),h=u().toLowerCase();n&&(a=Ha(h)?"_blank":n),Va(h)&&(t=t||"http://localhost",c.scrollbars="yes");const l=Object.entries(c).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=u()){var t;return Ga(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(h)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(t||"",a),new Ch(null);const d=window.open(t||"",a,l);oa(d,e,"popup-blocked");try{d.focus()}catch(f){}return new Ch(d)}const Rh="__/auth/handler",Oh="emulator/auth/handler";function Nh(e,t,n,i,r,s){oa(e.config.authDomain,e,"auth-domain-config-required"),oa(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:pe,eventId:r};if(t instanceof uc){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof dc){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))void 0===a[c]&&delete a[c];return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/${Rh}`;return ga(e,Oh)}(e)}?${b(a).slice(1)}`}const Ph="webStorageSupport";const Dh=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Oc,this._completeRedirectFn=lh,this._overrideRedirectResult=ah}async _openPopup(e,t,n,i){var r;ca(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");return Ah(e,Nh(e,t,n,ua(),i),Pc())}async _openRedirect(e,t,n,i){var r;return await this._originValidation(e),r=Nh(e,t,n,ua(),i),Lc().location.href=r,new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(ca(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Ih(e),n=Lc().gapi;return oa(n,e,"internal-error"),t.open({where:document.body,url:kh(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Th,dontclear:!0},(t=>new Promise((async(n,i)=>{await t.restyle({setHideOnLeave:!1});const r=ia(e,"network-request-failed"),s=Lc().setTimeout((()=>{i(r)}),_h.get());function o(){Lc().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{i(r)}))}))))}(e),n=new uh(e);return t.register("authEvent",(t=>{oa(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ph,{type:Ph},(n=>{var i;const r=null===(i=null===n||void 0===n?void 0:n[0])||void 0===i?void 0:i.webStorageSupport;void 0!==r&&t(!!r),na(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=mh(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ja()||Ba()||Ga()}};var Lh,Mh="@firebase/auth",xh="0.20.4";class Uh{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){oa(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function jh(e=ge()){const t=ue(e,"auth");return t.isInitialized()?t.getImmediate():function(e,t){const n=ue(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(y(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;na(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Dh,persistence:[qc,Ac,Oc]})}Lh="Browser",le(new C("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:r,authDomain:s}=n.options;return((e,n)=>{oa(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),oa(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});const i={apiKey:r,authDomain:s,clientPlatform:Lh,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ya(Lh)},o=new Za(e,n,i);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(la);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,null===t||void 0===t?void 0:t.popupRedirectResolver)}(o,t),o})(n,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),le(new C("auth-internal",(e=>(e=>new Uh(e))(ec(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),me(Mh,xh,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Lh)),me(Mh,xh,"esm2017");var Fh=n(9008),zh=n.n(Fh),Vh=n(7294);var Bh=Vh.forwardRef((function(e,t){return Vh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),Vh.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm.707-10.293a1 1 0 00-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L9.414 11H13a1 1 0 100-2H9.414l1.293-1.293z",clipRule:"evenodd"}))}));var Hh=Vh.forwardRef((function(e,t){return Vh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),Vh.createElement("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"}))})),$h=n(1163);function qh(e){var t=e.usePreviousRoute,n=(0,$h.useRouter)(),i=t();return(0,s.jsx)("div",{className:"fixed z-50 top-[108px] left-[64px]",children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-evenly bg-white w-16 py-8 border shadow-md rounded-xl h-[200px]",children:["/"===i&&(0,s.jsx)("div",{className:"w-14 h-14 flex items-center justify-center cursor-pointer text-gray-light-liz hover:text-blue-liz",onClick:function(){return n.back()},children:(0,s.jsx)(Bh,{className:"h-6"})}),(0,s.jsx)("div",{className:"w-14 h-14 flex items-center justify-center cursor-pointer text-gray-light-liz hover:text-blue-liz",children:(0,s.jsx)(Hh,{className:"h-6"})})]})})}var Kh=Vh.forwardRef((function(e,t){return Vh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),Vh.createElement("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"}))}));function Wh(e){var t=e.usePreviousRoute,n=(0,$h.useRouter)(),i=t();return(0,s.jsx)("div",{className:"fixed z-50 top-[108px] right-[64px] flex",children:(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:["/"===i&&(0,s.jsx)("div",{className:"bg-white w-16 h-12 border shadow-md rounded-xl flex items-center justify-center cursor-pointer text-gray-light-liz hover:text-blue-liz",onClick:function(){return n.back()},children:(0,s.jsx)(Bh,{className:"h-6"})}),(0,s.jsx)("div",{className:"bg-white w-16 h-12 border shadow-md rounded-xl flex items-center justify-center cursor-pointer text-gray-light-liz hover:text-blue-liz",children:(0,s.jsx)(Kh,{className:"h-6"})})]})})}var Gh=function(e,t={}){if("object"!==typeof t){t={name:t}}const n=Object.assign({name:se,automaticDataCollectionEnabled:!1},t),i=n.name;if("string"!==typeof i||!i)throw de.create("bad-app-name",{appName:String(i)});const r=ae.get(i);if(r){if(y(e,r.options)&&y(n,r.config))return r;throw de.create("duplicate-app",{appName:i})}const s=new O(i);for(const a of ce.values())s.addComponent(a);const o=new fe(e,n,s);return ae.set(i,o),o}({apiKey:"AIzaSyDbxrdE4Yh-4CVNrtcUT3jrGgn_uiOcmd8",authDomain:"liz-landing.firebaseapp.com",projectId:"liz-landing",storageBucket:"liz-landing.appspot.com",messagingSenderId:"341469303807",appId:"1:341469303807:web:ebe54e2b907425538ccdca",measurementId:"G-Y9SWCV2N0R"}),Xh=function(e=ge()){return ue(e,"firestore").getImmediate()}(Gh);"undefined"!==typeof window.navigator&&function(e=ge()){const t=ue(e=S(e),Eo);t.isInitialized()?t.getImmediate():function(e,t={}){const n=ue(e,Eo);if(n.isInitialized()){const e=n.getImmediate();if(y(t,n.getOptions()))return e;throw Ro.create("already-initialized")}n.initialize({options:t})}(e)}(Gh);var Jh=Vh.createContext({app:Gh,db:Xh});function Yh(e){var t=e.children,n=e.usePreviousRoute,i=(0,Vh.useRef)(!1);return(0,Vh.useEffect)((function(){if(!1===i.current){i.current=!0,console.log("Layout/useEffect");var e=jh();!function(e,t,n,i){S(e).onAuthStateChanged(t,n,i)}(e,(function(t){t?console.log("Layout/useEffect/onAuthStateChanged/logged-in",t):(console.log("Layout/useEffect/onAuthStateChanged/logged-out"),e.currentUser||async function(e){var t;const n=ec(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new yc({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await vc(n,{returnSecureToken:!0}),r=await yc._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(r.user),r}(e).then((function(){console.log("Layout/useEffect/onAuthStateChanged/signInAnonymously",e.currentUser)})).catch((function(e){var t=e.code,n=e.message;console.log(t,n)})))}))}}),[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(zh(),{children:[(0,s.jsx)("title",{children:"Liz Xuen"}),(0,s.jsx)("meta",{name:"description",content:"My landing page"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsxs)(Jh.Provider,{value:{app:Gh,db:Xh},children:[(0,s.jsx)(qh,{usePreviousRoute:n}),(0,s.jsx)(Wh,{usePreviousRoute:n}),(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"h-screen overflow-y-scroll scrollbar-hide",children:[(0,s.jsx)("div",{className:"flex items-center pl-[64px]",children:(0,s.jsx)("div",{className:"text-[72px] text-black-liz font-moo-lah-lah hover:text-yellow-liz cursor-pointer",children:"liz"})}),(0,s.jsx)("div",{className:"px-[120px]",children:t})]})})]})]})}var Qh=function(e){var t=e.Component,n=e.pageProps;return(0,s.jsx)(Yh,{usePreviousRoute:function(){var e=(0,$h.useRouter)().asPath,t=(0,Vh.useRef)("");return(0,Vh.useEffect)((function(){t.current=e}),[e]),t.current},children:(0,s.jsx)(t,r({},n))})}},906:function(){},7663:function(e){!function(){var t={308:function(e){var t,n,i=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(i){try{return t.call(null,e,0)}catch(i){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:r}catch(e){t=r}try{n="function"===typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var a,c=[],h=!1,l=-1;function u(){h&&a&&(h=!1,a.length?c=a.concat(c):l=-1,c.length&&d())}function d(){if(!h){var e=o(u);h=!0;for(var t=c.length;t;){for(a=c,c=[];++l<t;)a&&a[l].run();l=-1,t=c.length}a=null,h=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||h||o(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}},n={};function i(e){var r=n[e];if(void 0!==r)return r.exports;var s=n[e]={exports:{}},o=!0;try{t[e](s,s.exports,i),o=!1}finally{o&&delete n[e]}return s.exports}i.ab="//";var r=i(308);e.exports=r}()},9008:function(e,t,n){e.exports=n(5443)},1163:function(e,t,n){e.exports=n(387)}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[774,179],(function(){return t(6840),t(387)}));var n=e.O();_N_E=n}]);